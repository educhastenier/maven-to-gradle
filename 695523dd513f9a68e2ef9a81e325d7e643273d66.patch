From 695523dd513f9a68e2ef9a81e325d7e643273d66 Mon Sep 17 00:00:00 2001
From: Emmanuel Duchastenier <emmanuel.duchastenier@bonitasoft.com>
Date: Fri, 13 Jul 2018 15:24:26 +0200
Subject: [PATCH] Restore Junit 5 test run

---
 .../services/bonita-commons/build.gradle      | 37 ++++++++++++-------
 1 file changed, 23 insertions(+), 14 deletions(-)

diff --git a/community/services/bonita-commons/build.gradle b/community/services/bonita-commons/build.gradle
index a8185a2ab8..735df6de7b 100644
--- a/community/services/bonita-commons/build.gradle
+++ b/community/services/bonita-commons/build.gradle
@@ -1,19 +1,28 @@
-
 description = 'Bonita Engine Util Classes'
+
 dependencies {
-    compile(group: 'commons-beanutils', name: 'commons-beanutils', version:'1.9.2') {
-exclude(module: 'commons-collections')
+    compile(group: 'commons-beanutils', name: 'commons-beanutils', version: '1.9.2') {
+        exclude(module: 'commons-collections')
     }
-    compile group: 'commons-collections', name: 'commons-collections', version:'3.2.2'
-    compile group: 'org.springframework', name: 'spring-context', version:'5.0.6.RELEASE'
-    compile group: 'org.slf4j', name: 'slf4j-api', version:'1.7.25'
-    compile group: 'org.apache.commons', name: 'commons-lang3', version:'3.3.2'
-    compile(group: 'com.thoughtworks.xstream', name: 'xstream', version:'1.4.10') {
-exclude(module: 'xpp3_min')
-exclude(module: 'xmlpull')
+    compile group: 'commons-collections', name: 'commons-collections', version: '3.2.2'
+    compile group: 'org.springframework', name: 'spring-context', version: '5.0.6.RELEASE'
+    compile group: 'org.slf4j', name: 'slf4j-api', version: '1.7.25'
+    compile group: 'org.apache.commons', name: 'commons-lang3', version: '3.3.2'
+    compile(group: 'com.thoughtworks.xstream', name: 'xstream', version: '1.4.10') {
+        exclude(module: 'xpp3_min')
+        exclude(module: 'xmlpull')
     }
-    testCompile group: 'junit', name: 'junit', version:'4.12'
-    testCompile group: 'org.junit.jupiter', name: 'junit-jupiter-api', version:'5.1.1'
-    testCompile group: 'org.assertj', name: 'assertj-core', version:'3.7.0'
-    testCompile group: 'org.mockito', name: 'mockito-core', version:'2.17.0'
+    testCompile group: 'junit', name: 'junit', version: '4.12'
+    testCompile group: 'org.junit.jupiter', name: 'junit-jupiter-api', version: '5.1.1'
+    testCompile group: 'org.assertj', name: 'assertj-core', version: '3.7.0'
+    testCompile group: 'org.mockito', name: 'mockito-core', version: '2.17.0'
+
+    testRuntime group: 'org.junit.jupiter', name: 'junit-jupiter-engine', version: '5.1.1'
+    testRuntime group: 'org.junit.vintage', name: 'junit-vintage-engine', version: '5.1.1'
 }
+
+test {
+    useJUnitPlatform {
+        includeEngines 'junit-jupiter', 'junit-vintage'
+    }
+}
\ No newline at end of file
-- 
2.17.1

